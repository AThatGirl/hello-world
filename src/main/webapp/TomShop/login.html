<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>登录</title>
  <link rel="stylesheet" href="http://cdn.bootstrapmb.com/bootstrap/4.4.0/css/bootstrap.min.css">
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <style>
    form {
      max-width: 330px;
      margin-top: 17%;
      color: #3dd5f3;
    }
    body{
      background: url("../img/cat1.png") no-repeat center center;
      background-size: cover;
      background-attachment: fixed;
      background-color: #3dd5f3;

    }
  </style>
  <script>
    $(function () {
      //表单提交时
      $("#loginForm").submit(function () {
        $.post("loginServlet",$(this).serialize(),function (data) {
          //{flag:false,error_message:"用户名或密码错误"}
          if (data.flag){
            //将用户名放到本地仓库
            localStorage.username=data.error_message;
            //跳转成功界面
            location.href="loginSuccess.html";

          }else {
            //写出失败信息
            $("#error_message").html(data.error_message);
          }
        });
        //不让页面跳转
        return false;
      });
    });

  </script>

</head>
<body class="text-center bg-light h-100">
<form class="text-left mx-auto card p-4 w-100 p-2" autocomplete="off" id="loginForm" action="">
  <h1 class="h3 mb-3 text-center">请登录TomShop</h1>
  <label for="username" class="text-left ml-0">用户名</label>
  <input type="text" name="username" id="username" placeholder="用户名/手机号" class="form-control mb-3" required autofocus>
  <label for="password">密码</label>
  <div class="input-group">
    <input type="password" id="password" name="password" placeholder="请输入密码" autocomplete="current-password" class="form-control rounded-right" spellcheck="false" autocorrect="off" autocapitalize="off" required>
    <button id="toggle-password" type="button" class="d-none"
            aria-label="Show password as plain text. Warning: this will display your password on the screen."></button>
  </div>
  <button class="btn btn-lg btn-primary btn-block mt-3" type="submit">
    登录
  </button>
  <div id="error_message" style="color: red;text-align: center"></div>
</form>

</body>
</html>
